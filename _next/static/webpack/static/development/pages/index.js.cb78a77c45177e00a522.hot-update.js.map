{"version":3,"file":"static/webpack/static/development/pages/index.js.cb78a77c45177e00a522.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport Head from \"next/head\";\nimport Nav from \"../components/nav\";\n\nconst canvasWidth = 1920;\nconst canvasHeight = 1274;\nconst wheelWidth = 740;\nconst wheelHeight = 744;\nlet wheelDeg = 0;\nlet canvas = {};\nlet wheelImage = {};\n\nconst getRatio = () => {\n  const canvasWidth = 1920;\n  return window.innerWidth / canvasWidth;\n}\n\nconst toRadian = (deg) => {\n  return deg * Math.PI / 180;\n}\n\nconst drawCar = (carCtx, angle) => {\n  const carRadius = 40;\n  const wheelRadius = wheelImage.imageWidth / 2;\n  const r = wheelRadius + carRadius; //wheelRadius + 20;\n  const xPos = Math.cos(toRadian(angle)) * r;\n  const yPos = Math.sin(toRadian(angle)) * r;\n\n  carCtx.save();\n  carCtx.beginPath();\n  carCtx.arc(xPos + wheelImage.imageX + r - carRadius, yPos + wheelImage.imageY + r - carRadius, carRadius, 0, Math.PI, false);\n  carCtx.fillStyle = '#272e59';\n  carCtx.strokeStyle = '#272e59';\n  carCtx.lineWidth = 10;\n  carCtx.fill();\n\n  carCtx.beginPath();\n  carCtx.arc(xPos + wheelImage.imageX + r - carRadius, yPos + wheelImage.imageY + r - carRadius, carRadius, 0, Math.PI *2, false);\n  carCtx.strokeStyle = '#272e59';\n  carCtx.lineWidth = 10;\n  carCtx.stroke();\n\n  // carCtx.beginPath();\n  // carCtx.arc(wheelImage.imageX + r - carRadius, wheelImage.imageY + r - carRadius, r, 0, Math.PI *2, false);\n  // carCtx.strokeStyle = '#dd4b39';\n  // carCtx.lineWidth = 5;\n  // carCtx.stroke();\n\n  carCtx.restore();\n}\n\nconst drawWheel = () => {\n  const wheelCtx = canvas.wheelCtx;\n  const carCanvas = document.getElementById('carCanvas');\n  const carCtx = carCanvas.getContext('2d');\n  \n  wheelCtx.clearRect(0, 0, canvas.wheelCanvas.width, canvas.wheelCanvas.height);\n  wheelCtx.save();\n  wheelCtx.setTransform(1,0,0,1,0,0);\n  wheelCtx.translate(wheelImage.imageX + wheelImage.imageWidth / 2, wheelImage.imageY + wheelImage.imageHeight / 2);\n  wheelCtx.rotate(toRadian(wheelDeg));\n  // ctx.strokeRect(0 - wheelImage.imageWidth / 2, 0 - wheelImage.imageHeight / 2, wheelImage.imageWidth, wheelImage.imageHeight);\n\n\n  wheelCtx.drawImage(\n    wheelImage.image,\n    0 - wheelImage.imageWidth / 2,\n    0 - wheelImage.imageHeight / 2,\n    wheelImage.imageWidth,\n    wheelImage.imageHeight\n  );\n\n\n  carCtx.clearRect(0, 0, carCanvas.width, carCanvas.height);\n\n  for (var i = 0; i < 11; i++) {\n    const carAngle = wheelDeg + (i * 36);\n    console.log('여기', carAngle);\n    drawCar(carCtx, carAngle);\n  }\n\n\n  wheelCtx.restore();\n\n  wheelDeg = wheelDeg > 360 ? 0 : wheelDeg + 0.05;\n  // wheelDeg = wheelDeg > 360 ? 0 : wheelDeg + 0.5; // 테스트용\n\n  requestAnimationFrame(drawWheel);\n}\n\nconst Home = () => {\n\n  useEffect(() => {\n    const backgroundImage = {\n      image: new Image(),\n      imageWidth: 1920,\n      imageHeight: 1274,\n      imageX: 1,\n      imageY: 1\n    };\n\n    const ratio = getRatio();\n    const backgroundCanvas = document.getElementById('backgroundCanvas');\n    const wheelCanvas = document.getElementById('wheelCanvas');\n    canvas = {\n      backgroundCanvas,\n      backgroundCtx: backgroundCanvas.getContext('2d'),\n      wheelCanvas,\n      wheelCtx: wheelCanvas.getContext('2d')\n    };\n\n    backgroundImage.image.onload = () => {\n      canvas.backgroundCtx.drawImage(\n        backgroundImage.image,\n        backgroundImage.imageX,\n        backgroundImage.imageY,\n        backgroundImage.imageWidth,\n        backgroundImage.imageHeight\n      );\n    };\n    backgroundImage.image.src = '/static/images/amusement-park.png';\n\n    wheelImage = {\n      image: new Image(),\n      imageWidth: wheelWidth,\n      imageHeight: wheelHeight,\n      imageX: 765,\n      imageY: 365\n    };\n    wheelImage.image.src = '/static/images/wheel.png';\n    drawWheel();\n\n  }, []);\n\n  return (\n    <div>\n      <Head>\n        <title>Hisney Land | develope hub page</title>\n      </Head>\n\n      {/*<Nav />*/}\n\n      <main className=\"contents\">\n        <h1 className=\"title\">Hisney Land</h1>\n        <p className=\"description\">Hub page</p>\n        <div className=\"wrap-canvas\">\n          <canvas id=\"backgroundCanvas\" className=\"background-canvas\" width={canvasWidth} height={canvasHeight}></canvas>\n          <canvas id=\"wheelCanvas\" className=\"wheel-canvas\" width={canvasWidth} height={canvasHeight}></canvas>\n          <canvas id=\"carCanvas\" className=\"wheel-canvas\" width={canvasWidth} height={canvasHeight}></canvas>\n        </div>\n      </main>\n\n      <style jsx>{`\n      .contents {\n        height: 100vh;\n      }\n      .wrap-canvas {\n        position: relative;\n      }\n      .background-canvas,\n      .wheel-canvas{\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n      }\n      .background-canvas {\n        background-color: #fff;\n      }\n      .title {\n        margin: 0;\n        width: 100%;\n        padding-top: 30px;\n        font-size: 48px;\n        text-align: center;\n        color: #272e59;\n      }\n      .description {\n        text-align: center;\n      }\n    `}</style>\n    </div>\n  );\n}\n\nexport default Home;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AAOA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAbA;AAAA;AAAA;AAgDA;AACA;AACA;;;;A","sourceRoot":""}